<h5>Роли проекта</h5>
<ng-container *ngIf="roles?.length; else noData">
  <div class="d-flex flex-wrap">
    <div
      class="rounded border border-primary p-2 mr-3 mb-3 cursor-pointer"
      [ngClass]="{ 'bg-primary text-white': role.id === editingRole?.id }"
      *ngFor="let role of roles"
      (click)="onRoleClick(role)"
    >
      {{ role.name }}
    </div>
    <div
      class="rounded border border-primary p-2 px-3 mr-3 mb-3 cursor-pointer"
      [ngClass]="{ 'bg-primary text-white': !editingRole, 'text-primary': editingRole }"
      (click)="onRoleClick()"
    >
      <i class="fas fa-plus"></i>
    </div>
  </div>
</ng-container>
<hr />
<form [formGroup]="createRoleForm" (submit)="saveRole()">
  <div class="d-flex justify-content-between align-items-center mb-3 header">
    <h5 class="m-0">{{ editingRole ? 'Изменение' : 'Добавление' }} роли</h5>
    <button type="button" class="btn btn-outline-danger" *ngIf="editingRole" (click)="removeRole(editingRole.id)">
      Удалить роль
    </button>
  </div>

  <div class="form-group">
    <input type="text" class="form-control" formControlName="name" placeholder="Название роли" />
  </div>
  <div class="row">
    <div class="col-4" *ngFor="let control of permissionsArray; let index = index">
      <div class="form-check" [formGroup]="control">
        <input
          class="form-check-input"
          type="checkbox"
          [id]="index + 'permission'"
          formControlName="isChecked"
        />
        <label class="form-check-label" [for]="index + 'permission'">
          {{ control.get('name')?.value }}
        </label>
      </div>
    </div>
  </div>
  <div class="text-right">
    <button class="btn btn-primary">Сохранить</button>
  </div>
</form>
<ng-template #noData>
  <p class="m-0 py-4 text-muted">Роли отстутствуют</p>
</ng-template>
